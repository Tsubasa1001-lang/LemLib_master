# LemLib æ•¸å€¼é‹ç®—

> **å°ˆæ¡ˆåç¨±**: LemLib_1009  
> **ç‰ˆæœ¬**: 0.6.0  
> **ç›®æ¨™å¹³å°**: VEX V5

---

## å–®ä½ç³»çµ±

### é•·åº¦
```cpp
24_in; 30_cm; 1.5_m; 12_ft;
Length distance = 24_in;
Number inches = to_in(distance);
Number cm = to_cm(distance);
Number meters = to_m(distance);
```

### è§’åº¦
```cpp
90_deg; 90_cDeg; 90_stDeg; 1.57_rad; 1.57_stRad;
Angle angle = 90_cDeg;
Number degrees = to_cDeg(angle);
Number stdDeg = to_stDeg(angle);
Number radians = to_stRad(angle);
// LemLib æ¨™æº–è§’åº¦ç‚º cDegï¼Œ1 cDeg = 0.01 åº¦
```

### æ™‚é–“
```cpp
Time duration = 1.5_sec;
Number seconds = to_sec(duration);
Number msec = to_msec(duration);
```

### é€Ÿåº¦
```cpp
AngularVelocity w = 360_rpm;
AngularVelocity w2 = 180_degps;
LinearVelocity v = 12_inps;
LinearVelocity v2 = 1_mps;
```

### æº«åº¦èˆ‡é›»æµ
```cpp
Temperature temp = motors.getTemperature();
Number celsius = to_celsius(temp);
Number fahrenheit = to_fahrenheit(temp);

Current current = motors.getCurrent();
Number amps = to_amp(current);
Number milliamps = to_mamp(current);
```

### å…§å»ºå–®ä½å°ç…§ï¼ˆæ‘˜è‡ª `include/units/units.hpp`ï¼‰

ä»¥ä¸‹åˆ—å‡º LemLib å…§å»ºçš„ä¸»è¦å–®ä½åŠå…¶å­—é¢é‡ã€‚è‹¥è©²å–®ä½æœ‰å¥—ç”¨å…¬åˆ¶å‰ç¶´å·¨é›† (`NEW_METRIC_PREFIXES`)ï¼Œå³å¯ä½¿ç”¨ `T`ã€`G`ã€`M`ã€`k`ã€`c`ã€`m`ã€`u`ã€`n` ç­‰å‰ç¶´ï¼Œä¾‹å¦‚ `mm`ã€`usec`ã€`kvolt`ã€‚

- **Mass**ï¼š`kg`ï¼ˆåŸºæœ¬å–®ä½ï¼‰ã€`g`ï¼ˆ1/1000 kgï¼‰ã€`lb`ï¼ˆ453.6 gï¼‰ã€‚
- **Time**ï¼š`sec`ï¼ˆå«å‰ç¶´å½¢å¼ï¼š`Tsec`ã€`Gsec`ã€`Msec`ã€`ksec`ã€`csec`ã€`msec`ã€`usec`ã€`nsec`ï¼‰ï¼Œä»¥åŠ `min`ã€`hr`ã€`day`ã€‚
- **Length**ï¼š`m`ï¼ˆå« `km`ã€`cm`ã€`mm`ã€`um`ã€`nm` ç­‰ï¼‰ï¼Œå¦æœ‰ `in`ã€`ft`ã€`yd`ã€`mi`ã€`tile`ï¼ˆ600â€¯mmï¼‰ã€‚
- **Area**ï¼š`m2` èˆ‡å…¶å‰ç¶´ç‰ˆæœ¬ï¼ˆ`km2`ã€`cm2`ã€`mm2` ç­‰ï¼‰ä»¥åŠ `in2`ã€‚
- **LinearVelocity**ï¼š`mps`ã€`mph`ï¼ˆçš†æœ‰å‰ç¶´ï¼‰ï¼Œå¦å« `inps`ã€`miph`ã€‚
- **LinearAcceleration**ï¼š`mps2`ã€`mph2`ï¼ˆçš†æœ‰å‰ç¶´ï¼‰ã€`inps2`ã€`miph2`ã€‚
- **LinearJerk**ï¼š`mps3`ã€`mph3`ï¼ˆçš†æœ‰å‰ç¶´ï¼‰ã€`inps3`ã€`miph3`ã€‚
- **Curvature**ï¼š`radpm`ã€‚
- **Inertia**ï¼š`kgm2`ã€‚
- **Force**ï¼š`N`ã€‚
- **Torque**ï¼š`Nm`ã€‚
- **Power**ï¼š`watt`ã€‚
- **Current**ï¼š`amp`ã€‚
- **Charge**ï¼š`coulomb`ã€‚
- **Voltage**ï¼š`volt`ï¼ˆå«å‰ç¶´ï¼Œå¦‚ `kvolt`ã€`mvolt`ï¼‰ã€‚
- **Resistance**ï¼š`ohm`ï¼ˆå«å‰ç¶´ï¼‰ã€‚
- **Conductance**ï¼š`siemen`ï¼ˆå«å‰ç¶´ï¼‰ã€‚
- **Luminosity**ï¼š`candela`ã€‚
- **Moles**ï¼š`mol`ã€‚

> ä»¥ä¸Šæ‰€æœ‰å–®ä½å‡é€éå­—é¢é‡å¾Œç¶´ï¼ˆå¦‚ `24_in`ã€`5_sec`ã€`3_km`ï¼‰ç›´æ¥ä½¿ç”¨ã€‚

---

## å–®ä½é‹ç®—

### åŸºæœ¬é‹ç®—
```cpp
Length total = 12_in + 6_in;
Length diff = 24_in - 6_in;
Length doubled = 12_in * 2;
Number ratio = 24_in / 12_in;    // ç„¡å–®ä½
Length half = 24_in / 2;
```

### æ¯”è¼ƒèˆ‡å¸¸ç”¨å‡½æ•¸
```cpp
if (24_in > 12_in) { /* ... */ }

Length distance = abs(-12_in);
Length max_dist = max(12_in, 24_in);
Length clamped = clamp(15_in, 10_in, 20_in);
Length min_dist = min(12_in, 24_in);
Number sign = sgn(-12_in);      // -1
```

---

## è§’åº¦èˆ‡ä½ç½®è¨ˆç®—

### Pose
```cpp
units::Pose pose = {24_in, 12_in, 90_cDeg};
Length distance = pose.distanceTo({48_in, 24_in});
Angle angleToTarget = pose.angleTo({48_in, 24_in});
```

### V2Position
```cpp
units::V2Position pos = {24_in, 12_in};
auto polar = units::V2Position::fromPolar(90_cDeg, 12_in);
units::V2Position sum = pos + polar;
units::V2Position diff = pos - polar;
units::V2Position scaled = pos * 2;
```

---

## æ•¸å­¸å·¥å…·å‡½æ•¸

### `angleError()`
```cpp
Angle angleError(Angle target, Angle position,
                std::optional<AngularDirection> direction = std::nullopt);
```
- è‡ªå‹•å°‹æ‰¾æœ€çŸ­è·¯å¾‘ï¼Œæˆ–ä½¿ç”¨ `AngularDirection::CW_CLOCKWISE / CCW_COUNTERCLOCKWISE` å¼·åˆ¶æ–¹å‘ã€‚

### `slew()` - æ–œç‡é™åˆ¶
```cpp
Number slew(Number target, Number current, Number maxChangeRate, Time deltaTime,
            SlewDirection restrictDirection = SlewDirection::ALL);
```
é™åˆ¶è¼¸å‡ºçš„æœ€å¤§è®ŠåŒ–ç‡ï¼›`restrictDirection` å¯ä»¥åªé™åˆ¶å¢é•·æˆ–è¡°æ¸›ã€‚

### `constrainPower()`
```cpp
Number constrainPower(Number power, Number max, Number min);
```
é™åˆ¶è¼¸å‡ºæ–¼ `[min, max]`ï¼Œä¸¦ä¿ç•™ç¬¦è™Ÿã€‚

### `desaturate()`
```cpp
DriveOutputs desaturate(Number lateralOutput, Number angularOutput);
// è¿”å› {left, right}ï¼Œç¢ºä¿è¼¸å‡ºè½åœ¨ Â±1.0
```

### `getSignedTangentArcCurvature()`
```cpp
Curvature getSignedTangentArcCurvature(units::Pose start, units::V2Position end);
```
è¨ˆç®—åˆ‡ç·šå¼§æ›²ç‡ï¼Œç”¨æ–¼è¦åŠƒè·¯å¾‘ã€‚

---

## å¿«é€Ÿè½‰æ›è¡¨

| é¡å‹ | è½‰æ›å‡½æ•¸ | ç¯„ä¾‹ |
|------|----------|------|
| é•·åº¦ | `to_in()`, `to_cm()`, `to_m()` | `to_in(24_cm)` |
| è§’åº¦ | `to_cDeg()`, `to_stDeg()`, `to_stRad()` | `to_stDeg(90_cDeg)` |
| æº«åº¦ | `to_celsius()`, `to_fahrenheit()` | `to_celsius(temp)` |
| é›»æµ | `to_amp()`, `to_mamp()` | `to_amp(current)` |

### å–®ä½æ›ç®—

| é•·åº¦ | è‹±å¯¸ | å˜ç±³ | ç±³ |
|------|------|------|-----|
| 1 è‹±å¯¸ | 1 | 2.54 | 0.0254 |
| 1 å˜ç±³ | 0.3937 | 1 | 0.01 |
| 1 ç±³ | 39.37 | 100 | 1 |

| è§’åº¦ | åº¦ | å¼§åº¦ | å˜åº¦ |
|------|-----|------|------|
| 1Â° | 1 | 0.01745 | 100 |
| 1 å¼§åº¦ | 57.296 | 1 | 5729.6 |
| 1 å˜åº¦ | 0.01 | 0.0001745 | 1 |

---

æ­¤æª”å°æ‡‰ç›®éŒ„ä¸­çš„ã€ŒğŸ“ æ•¸å€¼é‹ç®—ã€ç« ç¯€ã€‚
