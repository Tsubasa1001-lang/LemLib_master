# LemLib ç¡¬é«”æ§åˆ¶

> **å°ˆæ¡ˆåç¨±**: LemLib_1009  
> **ç‰ˆæœ¬**: 0.6.0  
> **ç›®æ¨™å¹³å°**: VEX V5

---

## é¦¬é”æ§åˆ¶ (MotorGroup)

### æ¦‚è¿°
MotorGroup æ˜¯é¦¬é”ç¾¤çµ„æ§åˆ¶é¡ï¼Œå¯ä»¥åŒæ™‚ç®¡ç†å¤šé¡†é¦¬é”ã€‚

### å‰µå»ºé¦¬é”ç¾¤çµ„

```cpp
// åŸºæœ¬å‰µå»º
lemlib::MotorGroup motors({1, -2, 3}, 360_rpm);
// åŸ è™Ÿ: 1, 2(åè½‰), 3
// æœ€å¤§é€Ÿåº¦: 360 RPM

// å¾ PROS MotorGroup å‰µå»º
pros::MotorGroup prosGroup({1, -2, 3});
lemlib::MotorGroup motors = lemlib::MotorGroup::from_pros_group(prosGroup, 360_rpm);
```

åƒæ•¸èªªæ˜ï¼š
- åŸ è™Ÿåˆ—è¡¨ `{1, -2, 3}`ï¼Œè² è™Ÿè¡¨ç¤ºé è¨­åè½‰
- è¼¸å‡ºé€Ÿåº¦æª”ä½ï¼š`200_rpm / 360_rpm / 600_rpm`

### é¦¬é”æ§åˆ¶æŒ‡ä»¤

#### 1. `move()` - æŒ‰ç™¾åˆ†æ¯”åŠŸç‡ç§»å‹•
```cpp
int move(Number percent);
```
`percent` ä»‹æ–¼ `-1.0 ~ 1.0`ã€‚æˆåŠŸå›å‚³ `0`ã€‚

#### 2. `moveVelocity()` - æŒ‰è§’é€Ÿåº¦ç§»å‹•
```cpp
int moveVelocity(AngularVelocity velocity);
```
æ”¯æ´ `_degps`ã€`_rpm` ç­‰å–®ä½ã€‚

#### 3. `brake()` - ç…è»Š
```cpp
int brake();
```
ä½¿ç”¨ç•¶å‰ç…è»Šæ¨¡å¼åœæ­¢ã€‚

#### 4. `setBrakeMode()` / `getBrakeMode()`
```cpp
int setBrakeMode(BrakeMode mode);
BrakeMode getBrakeMode();
```
`BrakeMode` å¯é¸ `COAST`ã€`BRAKE`ã€`HOLD`ã€‚

### é¦¬é”ç‹€æ…‹æŸ¥è©¢

```cpp
bool ok = motors.isConnected();
Angle angle = motors.getAngle();
motors.setAngle(0_stDeg);
AngularVelocity vel = motors.getVelocity();
Temperature temp = motors.getTemperature();
Current current = motors.getCurrent();
```

`getTemperature()` å›å‚³å¹³å‡æº«åº¦ï¼›`getCurrent()` å›å‚³ç¸½é›»æµã€‚

### ä½¿ç”¨ç¯„ä¾‹

```cpp
void example() {
    lemlib::MotorGroup left({1, 2, 3}, 360_rpm);
    lemlib::MotorGroup right({-8, -9, -10}, 360_rpm);

    left.setBrakeMode(lemlib::BrakeMode::BRAKE);
    right.setBrakeMode(lemlib::BrakeMode::BRAKE);

    if (left.isConnected() && right.isConnected()) {
        left.move(0.8);
        right.move(0.8);
        pros::delay(1000);
        left.brake();
        right.brake();
        printf("å·¦å´é¦¬é”æº«åº¦: %.1fÂ°C\n", to_celsius(left.getTemperature()));
    }
}
```

---

## æ„Ÿæ¸¬å™¨ API

### æ…£æ€§æ¸¬é‡å–®å…ƒ (IMU)

```cpp
lemlib::V5InertialSensor imu(1);
pros::Imu prosImu(1);
auto imu2 = lemlib::V5InertialSensor::from_pros_imu(prosImu);
```

å¸¸ç”¨æ–¹æ³•ï¼š
- `calibrate()`: é–‹å§‹æ ¡æº–ï¼Œéœ€ä¿æŒéœæ­¢
- `isCalibrated()` / `isCalibrating()`ï¼šæŸ¥è©¢ç‹€æ…‹
- `isConnected()`: ç¡¬é«”é€£ç·š
- `getRotation()`ï¼šç„¡ç•Œæ—‹è½‰è§’
- `getHeading()`ï¼š0-360 åº¦èˆªå‘
- `getAngularVelocity()`ã€`getAcceleration()`
- `setRotation(angle)`ï¼šé‡è¨­åƒè€ƒ

åˆå§‹åŒ–ç¯„ä¾‹ï¼š
```cpp
imu.calibrate();
while (imu.isCalibrating()) pros::delay(100);
if (imu.isConnected()) {
    printf("Heading: %.2f åº¦\n", to_stDeg(imu.getHeading()));
}
```

### ç·¨ç¢¼å™¨ (Encoder)

```cpp
lemlib::V5RotationSensor encoder(3, true);
Angle angle = encoder.getAngle();
encoder.setAngle(0_stDeg);
AngularVelocity vel = encoder.getVelocity();
bool ok = encoder.isConnected();
```

### è¿½è¹¤è¼ª (TrackingWheel)

```cpp
lemlib::V5RotationSensor rot(3, true);
lemlib::TrackingWheel wheel(&rot, 2.75_in, -3_in);
lemlib::TrackingWheel vertical('E', 'F', true, 2.75_in, 13.25_cm);
lemlib::TrackingWheel geared('A', 'B', false, 2.75_in, 0_in, 36.0/60.0);
```

åƒæ•¸èªªæ˜ï¼š
- ç·¨ç¢¼å™¨åŸ ï¼šADI `'A'~'H'` æˆ–æ™ºæ…§åŸ  `1~21`
- `true` è¡¨ç¤ºè¼¸å‡ºåè½‰
- è¼ªå¾‘æ±ºå®šä½ç§»æ›ç®—
- åç§»é‡ç‚ºç›¸å°æ—‹è½‰ä¸­å¿ƒè·é›¢ï¼ˆæ­£ = å³/å‰ï¼‰
- é½’è¼ªæ¯”é è¨­ 1ï¼Œå¯è‡ªè¨‚

å¸¸ç”¨æ–¹æ³•ï¼š
```cpp
Length dist = wheel.getDistanceTraveled();
wheel.reset();
LinearVelocity vel = wheel.getVelocity();
printf("ç§»å‹•è·é›¢: %.2f in\n", to_in(dist));
```

---

æ­¤æª”æ¶µè“‹ç›®éŒ„ä¸­ã€ŒğŸ”§ ç¡¬é«”æ§åˆ¶ã€ç›¸é—œå…§å®¹ï¼›æ›´å®Œæ•´çš„ä¸Šä¸‹æ–‡è«‹åƒè€ƒ `docs/åŠŸèƒ½èªªæ˜æ–‡æª”.md`ã€‚
